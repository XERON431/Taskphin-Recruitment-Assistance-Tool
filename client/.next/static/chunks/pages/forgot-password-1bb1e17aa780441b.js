(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{2036:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return s(3980)}])},3980:function(e,t,s){"use strict";s.r(t);var a=s(5893),n=s(7294),r=s(5121),o=s(2920),l=s(8462),c=s(1163);t.default=()=>{let[e,t]=(0,n.useState)(""),[s,u]=(0,n.useState)(!1),[p,i]=(0,n.useState)(""),[d,m]=(0,n.useState)(""),{state:{user:f}}=(0,n.useContext)(l._),h=(0,c.useRouter)();(0,n.useEffect)(()=>{null!==f&&h.push("/")},[f]);let g=async t=>{t.preventDefault();try{let{data:t}=await r.Z.post("/api/forgot-password",{email:e});u(!0),(0,o.Am)("check email for secret code")}catch(e){(0,o.Am)(e.response.data)}},b=async t=>{t.preventDefault(),console.log(e,d);try{let{data:t}=await r.Z.post("/api/reset-password",{email:e,code:d,newpassword:p});h.push("/login")}catch(e){(0,o.Am)(e.response.data)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{style:{textAlign:"center",background:"#000000",color:"#fff",padding:"20px"},children:"ForgotPassword"}),(0,a.jsx)("div",{className:"container col-md-4 offset-md-4 pb-4",children:(0,a.jsxs)("form",{onSubmit:s?b:g,children:[(0,a.jsx)("input",{type:"email",className:"form-control mb-4 p-4",value:e,placeholder:"Enter your Email Address",onChange:e=>t(e.target.value)}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"text",className:"form-control mb-4 p-4",value:d,placeholder:"Enter your code",onChange:e=>m(e.target.value)}),(0,a.jsx)("input",{type:"password",className:"form-control mb-4 p-4",value:p,placeholder:"Enter your new password",onChange:e=>i(e.target.value)})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-block btn-primary",children:"submit"})]})})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2036)}),_N_E=e.O()}]);