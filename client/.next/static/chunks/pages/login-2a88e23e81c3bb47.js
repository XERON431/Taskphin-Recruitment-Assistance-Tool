(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(9802)}])},9802:function(e,t,r){"use strict";r.r(t);var s=r(5893),n=r(7294),o=r(5121),a=r(2920),l=r(1664),i=r(8462),u=r(1163);t.default=()=>{let[e,t]=(0,n.useState)(""),[r,c]=(0,n.useState)(""),[d,p]=(0,n.useState)(!1),{state:f,dispatch:g}=(0,n.useContext)(i._),h=(0,u.useRouter)(),{user:m}=f;(0,n.useEffect)(()=>{null!==m&&h.push("/user")},[m]);let x=async t=>{t.preventDefault();try{p(!0);let{data:t}=await o.Z.post("/api/login",{email:e,password:r});g({type:"LOGIN",payload:t}),window.localStorage.setItem("user",JSON.stringify(t)),h.push("/user")}catch(r){console.error("Error in login:",r);let e=r.response,t=(null==e?void 0:e.data)||"An error occurred during login.";a.Am.error(t,{style:{maxWidth:"400px"}})}finally{p(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{style:{textAlign:"center",background:"#000000",color:"#fff",padding:"20px"},children:"Login Page"}),(0,s.jsxs)("div",{className:"container col-md-4 offset-md-4 pb-4",children:[(0,s.jsxs)("form",{onSubmit:x,children:[(0,s.jsx)("input",{type:"email",className:"form-control mb-4 p-4",value:e,placeholder:"Enter your Email Address",onChange:e=>t(e.target.value)}),(0,s.jsx)("input",{type:"password",className:"form-control mb-4 p-4",value:r,placeholder:"Set a password",onChange:e=>c(e.target.value)}),(0,s.jsx)("button",{type:"submit",className:"btn btn-block btn-primary",disabled:d,children:d?"Submitting...":"Submit"})]}),(0,s.jsxs)("p",{className:"text-center p-3",children:["Not yet registered?"," ",(0,s.jsx)(l,{href:"/register",children:"Register"})]}),(0,s.jsxs)("p",{className:"text-center p-3",children:["Forgot password"," ",(0,s.jsx)(l,{href:"/forgot-password",children:"Forgot Password"})]})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);