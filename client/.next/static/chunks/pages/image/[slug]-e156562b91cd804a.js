(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[433],{9722:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/image/[slug]",function(){return a(5393)}])},5393:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return h},default:function(){return f}});var l=a(5893),s=a(5121),n=a(1163),r=a(8862),i=a(4274),o=a(8456),c=a(6150),d=e=>{let{image:t,user:a,loading:s,handleFreeEnrollment:n,enrolled:d,handleDelete:u}=e;return(0,l.jsx)("div",{style:{textAlign:"center",background:"#000000",color:"#fff",padding:"20px"},children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-md-8 p-4",children:[(0,l.jsx)(r.Z,{variant:"h1",className:"font-weight-bold",style:{color:"pink"},children:t.name}),t.category&&(0,l.jsx)(i.Z,{label:t.category,style:{backgroundColor:"#03a9f4",color:"#fff",marginRight:"4px"},className:"mr-10"}),t.currentStatus&&(0,l.jsx)(i.Z,{label:t.currentStatus,style:{backgroundColor:"#ff0000",color:"#fff",marginRight:"4px"},className:"mr-10"}),t.phone&&(0,l.jsx)(i.Z,{label:t.phone,style:{backgroundColor:"green",color:"#fff",marginRight:"4px"},className:"mr-10"}),t.email&&(0,l.jsx)(i.Z,{label:t.email,style:{backgroundColor:"violet",color:"white",marginRight:"4px"},className:"mr-10"}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsxs)(r.Z,{variant:"body1",style:{color:"white"},children:[t.description&&t.description.substring(1,160),"..."]}),s?(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsx)(o.Z,{color:"secondary"})}):(0,l.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[" ",(0,l.jsx)(c.Z,{className:"mb-3 mt-3",variant:"contained",color:"secondary",fullWidth:!0,disabled:s,onClick:n,children:(0,l.jsx)(r.Z,{variant:"button",style:{color:"white"},children:a?d.status?"Saved":"Save":"Login to save"})}),(0,l.jsx)(c.Z,{className:"mb-3 mt-3",variant:"contained",color:"secondary",fullWidth:!0,disabled:s,onClick:u,children:(0,l.jsx)(r.Z,{variant:"button",style:{color:"white"},children:"Delete"})})]})]}),(0,l.jsxs)("div",{className:"col-md-4 p-4",children:[(0,l.jsx)("img",{src:t.image.Location,alt:t.name,className:"card-img-top",style:{height:"500px",objectFit:"cover"}}),(0,l.jsx)("hr",{})]})]})})},u=a(7294),m=a(8462),g=a(2920),h=!0,f=e=>{let{image:t}=e,a=(0,n.useRouter)(),{slug:r}=a.query,[i,o]=(0,u.useState)(!1),[c,h]=(0,u.useState)({}),{state:{user:f}}=(0,u.useContext)(m._);(0,u.useEffect)(()=>{f&&t&&x()},[f,t]);let x=async()=>{let{data:e}=await s.Z.get("/api/check-enrollment/".concat(t.id));h(e)},p=async e=>{e.preventDefault();try{if(f||a.push("/login"),c.status)return a.push("/user/image/".concat(c.image.slug));o(!0);let{data:e}=await s.Z.post("/api/free-enrollment/".concat(t.id));(0,g.Am)(e.message),o(!1),h(e)}catch(e){(0,g.Am)("Saving failed"),console.log(e),o(!1)}},j=async()=>{try{let{data:e}=await s.Z.delete("/api/image/".concat(t.id));(0,g.Am)(e.message),a.push("/")}catch(e){console.error("Error deleting image:",e),(0,g.Am)("Error deleting candidate")}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(d,{image:t,user:f,loading:i,handleFreeEnrollment:p,enrolled:c,setEnrolled:h,handleDelete:j})})}}},function(e){e.O(0,[92,900,774,888,179],function(){return e(e.s=9722)}),_N_E=e.O()}]);